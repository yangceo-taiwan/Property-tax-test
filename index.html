<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>æˆ¿åœ°åˆä¸€ç¨…è‡ªæˆ‘æª¢æ¸¬ - å®åœ‹åœ°æ”¿ | æ˜“ä¸åœ°æ”¿</title>
    
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&display=swap" rel="stylesheet">

    <style>
        :root {
            --nexus-navy: #0F2E46;
            --nexus-gold: #C5A065;
            --nexus-bg: #f0f2f5;
        }

        body { 
            font-family: 'Noto Sans TC', sans-serif; 
            background-color: var(--nexus-bg);
            color: #333;
            -webkit-tap-highlight-color: transparent;
            /* ç¦æ­¢é¸å–æ–‡å­— (é˜²è­·å±¤) */
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }

        /* 1. å“ç‰Œé ­éƒ¨è¨­è¨ˆ */
        .brand-section {
            background: linear-gradient(135deg, var(--nexus-navy) 0%, #1a3a5a 100%);
            padding: 2rem 1rem 4rem 1rem;
            color: white;
            border-bottom-left-radius: 2.5rem;
            border-bottom-right-radius: 2.5rem;
            box-shadow: 0 10px 30px -5px rgba(15, 46, 70, 0.3);
            position: relative;
            z-index: 0;
            text-align: center;
        }

        .brand-title {
            font-size: 1.8rem;
            font-weight: 700;
            letter-spacing: 0.1em;
            text-shadow: 0 2px 4px rgba(0,0,0,0.2);
            margin-bottom: 0.5rem;
            color: var(--nexus-gold);
        }

        /* 2. é€£çµæŒ‰éˆ•çŸ©é™£ */
        .link-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 0.8rem;
            max-width: 600px;
            margin: 1.5rem auto 0 auto;
        }

        .btn-link {
            display: flex; align-items: center; justify-content: center;
            border-radius: 1rem; text-decoration: none; font-weight: 700;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .btn-link:active { transform: scale(0.95); }

        .btn-line {
            background: #06C755; color: white;
            grid-column: span 4; /* ä½”æ»¿æ•´è¡Œ */
            padding: 1rem; font-size: 1.2rem;
            box-shadow: 0 4px 15px rgba(6, 199, 85, 0.4);
            animation: pulse-green 2s infinite;
        }
        @keyframes pulse-green {
            0% { box-shadow: 0 0 0 0 rgba(6, 199, 85, 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(6, 199, 85, 0); }
            100% { box-shadow: 0 0 0 0 rgba(6, 199, 85, 0); }
        }

        .btn-fb { background: #1877F2; color: white; grid-column: span 2; padding: 0.8rem; font-size: 0.9rem; }
        .btn-map { background: #EA4335; color: white; grid-column: span 2; padding: 0.8rem; font-size: 0.9rem; }
        .btn-vip { 
            background: linear-gradient(90deg, #111 0%, #333 100%); 
            color: #FFD700; border: 1px solid #FFD700; 
            grid-column: span 4; padding: 0.8rem; font-size: 0.9rem;
        }

        /* 3. å¡ç‰‡å®¹å™¨ */
        .main-content {
            max-width: 600px;
            margin: -3rem auto 0 auto;
            position: relative;
            z-index: 10;
            padding: 0 1rem;
            padding-bottom: 100px;
        }

        .quiz-card {
            background: white;
            border-radius: 1.5rem;
            padding: 2rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1);
            border: 1px solid white;
            transition: all 0.3s ease;
            animation: slideUp 0.5s ease-out;
        }
        @keyframes slideUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .question-title {
            font-size: 1.25rem; font-weight: 700; color: var(--nexus-navy);
            margin-bottom: 1.5rem; display: flex; align-items: start;
            line-height: 1.4;
        }
        .question-icon { color: var(--nexus-gold); margin-right: 0.75rem; font-size: 1.5rem; }

        /* é¸é …æŒ‰éˆ• */
        .option-btn {
            width: 100%; text-align: left;
            padding: 1.2rem; margin-bottom: 1rem;
            background: #f8fafc; border: 2px solid #e2e8f0;
            border-radius: 1rem; cursor: pointer;
            transition: all 0.2s; position: relative;
            font-weight: 600; color: #334155;
            /* å…è¨±æŒ‰éˆ•æ–‡å­—è¢«é»æ“Šï¼Œä½†ä¸å…è¨±è¢«é¸å– */
            user-select: none;
        }
        .option-btn:hover {
            border-color: var(--nexus-navy); background: #f1f5f9;
            color: var(--nexus-navy); transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
        }
        .option-note { display: block; font-size: 0.8rem; color: #64748b; font-weight: normal; margin-top: 0.3rem; }

        /* è¼¸å…¥æ¡† */
        .nexus-input {
            width: 100%; padding: 0.8rem 1rem;
            border: 2px solid #e2e8f0; border-radius: 0.8rem;
            font-size: 1rem; margin-bottom: 1rem;
            transition: all 0.3s;
            /* è¼¸å…¥æ¡†å¿…é ˆå…è¨±äº’å‹• */
            user-select: text; 
        }
        .nexus-input:focus { outline: none; border-color: var(--nexus-navy); background: #fff; }

        /* çµæœå€å¡Š */
        .result-box { text-align: center; }
        .result-icon { font-size: 3rem; color: var(--nexus-gold); margin-bottom: 1rem; }
        .result-text { background: #f0fdf4; border: 1px solid #bbf7d0; color: #166534; padding: 1.5rem; border-radius: 1rem; text-align: left; margin-bottom: 1.5rem; }
        
        /* æ‡¸æµ®æŒ‰éˆ• */
        .sticky-footer {
            position: fixed; bottom: 0; left: 0; width: 100%;
            background: rgba(255,255,255,0.9); backdrop-filter: blur(10px);
            padding: 1rem; box-shadow: 0 -4px 20px rgba(0,0,0,0.05); z-index: 50;
            display: flex; justify-content: center;
        }
        .sticky-btn {
            background: var(--nexus-navy); color: white;
            width: 100%; max-width: 600px;
            padding: 1rem; border-radius: 50px;
            font-weight: 700; text-align: center;
            box-shadow: 0 4px 15px rgba(15, 46, 70, 0.3);
            transition: all 0.3s;
        }
        .sticky-btn:active { transform: scale(0.98); }

        .hidden { display: none; }
    </style>
    
    <script>
        // ç¦æ­¢å³éµ
        document.addEventListener('contextmenu', function(e) {
            e.preventDefault();
        });

        // ç¦æ­¢ç‰¹å®šæŒ‰éµçµ„åˆ (F12, Ctrl+U, Ctrl+Shift+I ç­‰)
        document.onkeydown = function(e) {
            if (e.keyCode == 123) { // F12
                return false;
            }
            if (e.ctrlKey && e.shiftKey && e.keyCode == 'I'.charCodeAt(0)) { // Ctrl+Shift+I
                return false;
            }
            if (e.ctrlKey && e.shiftKey && e.keyCode == 'C'.charCodeAt(0)) { // Ctrl+Shift+C
                return false;
            }
            if (e.ctrlKey && e.shiftKey && e.keyCode == 'J'.charCodeAt(0)) { // Ctrl+Shift+J
                return false;
            }
            if (e.ctrlKey && e.keyCode == 'U'.charCodeAt(0)) { // Ctrl+U
                return false;
            }
        };
    </script>
</head>
<body>

<div class="brand-section">
    <div class="max-w-2xl mx-auto">
        <div class="brand-title">å®åœ‹åœ°æ”¿ | æ˜“ä¸åœ°æ”¿</div>
        <div class="text-sm opacity-80 tracking-widest uppercase mb-6">Tax Self-Check System</div>
        
        <h2 class="text-2xl font-bold mb-2">ğŸ” æˆ¿åœ°åˆä¸€ç¨… è‡ªæˆ‘æª¢æ¸¬</h2>
        <p class="text-sm opacity-90">30ç§’å¿«é€Ÿåˆ¤æ–·æ‚¨çš„ç¨…åˆ¶ï¼Œç²¾æº–ç¯€ç¨…è¦åŠƒ</p>

        <div class="link-grid">
            <a href="https://line.me/R/ti/p/@604gpqef" target="_blank" class="btn-link btn-line">
                <i class="fab fa-line mr-2"></i> åŠ å…¥å®˜æ–¹å¥½å‹ (é ç´„ä»˜è²»è«®è©¢)
            </a>
            <a href="https://www.facebook.com/062582589a/" target="_blank" class="btn-link btn-fb">
                <i class="fab fa-facebook mr-1"></i> FB ç²‰å°ˆ
            </a>
            <a href="https://maps.app.goo.gl/qyKhdrKsG5QBo2BW8" target="_blank" class="btn-link btn-map">
                <i class="fas fa-map-marker-alt mr-1"></i> åœ°åœ–å°èˆª
            </a>
            <a href="https://line.me/ti/g2/aVklWxyLP1RtfstQsslGQOlP4KViuFI7PPucdQ?utm_source=invitation&utm_medium=link_copy&utm_campaign=default" target="_blank" class="btn-link btn-vip">
                <i class="fas fa-crown mr-2"></i> åŠ å…¥å®åœ‹åœ°æ”¿ç ”ç©¶é™¢ (VIP)
            </a>
        </div>
    </div>
</div>

<div class="main-content">
    
    <div id="quiz-container">
        
        <div id="step-1" class="quiz-card">
            <div class="question-title">
                <i class="fas fa-calendar-alt question-icon"></i>
                <div>æ‚¨æ˜¯æ°‘åœ‹å¹¾å¹´å–å¾—ä¸å‹•ç”¢çš„ï¼Ÿ<div class="text-sm text-gray-400 font-normal mt-1">(è«‹æŸ¥çœ‹æ¬Šç‹€ç™»è¨˜æ—¥æœŸ)</div></div>
            </div>
            <div class="options-grid">
                <button class="option-btn" onclick="goToStep('old-system')">
                    1. æ°‘åœ‹ 101å¹´ 08æœˆ ä»¥å‰
                    <span class="option-note">ğŸ‘‰ èˆŠåˆ¶ï¼šè²¡ç”¢äº¤æ˜“æ‰€å¾—ç¨…</span>
                </button>
                <button class="option-btn" onclick="goToStep('middle-system')">
                    2. æ°‘åœ‹ 101/08 ~ 104/12/31
                    <span class="option-note">ğŸ‘‰ èˆŠåˆ¶ï¼šéœ€ç•™æ„æ˜¯å¦æ‹†ç®—æˆ¿åœ°åƒ¹</span>
                </button>
                <button class="option-btn" onclick="goToStep('new-system')">
                    3. æ°‘åœ‹ 105å¹´ ä»¥å¾Œ
                    <span class="option-note">ğŸ‘‰ æ–°åˆ¶ï¼šæˆ¿åœ°åˆä¸€ç¨…</span>
                </button>
            </div>
        </div>

        <div id="step-old-2" class="quiz-card hidden">
            <div class="question-title">
                <i class="fas fa-handshake question-icon"></i>
                ç•¶åˆå–å¾—çš„å°è±¡æ˜¯ï¼Ÿ
            </div>
            <div class="options-grid">
                <button class="option-btn" onclick="showResult('old-developer')">
                    A. è·Ÿå»ºè¨­å…¬å¸è³¼è²·
                    <span class="option-note">å‚™è¨»ï¼šåœ‹ç¨…å±€å¯èƒ½æœ‰æˆäº¤åƒ¹æ ¼ç´€éŒ„</span>
                </button>
                <button class="option-btn" onclick="showResult('old-individual')">
                    B. è·Ÿä¸€èˆ¬æ°‘çœ¾è³¼è²·
                    <span class="option-note">å‚™è¨»ï¼šå¯èƒ½ç„¡ç´€éŒ„ï¼Œå¯ä¾æˆ¿å±‹ç¾å€¼è¨ˆç®—</span>
                </button>
            </div>
        </div>

        <div id="step-mid-2" class="quiz-card hidden">
            <div class="question-title">
                <i class="fas fa-file-invoice-dollar question-icon"></i>
                ç•¶åˆæˆäº¤åƒ¹æœ‰ã€Œæ‹†ç®—æˆ¿åœ°åƒ¹æ ¼ã€å—ï¼Ÿ
            </div>
            <div class="options-grid">
                <button class="option-btn" onclick="goToStep('mid-input')">
                    A. æœ‰æ‹†ç®—
                    <span class="option-note">éœ€å¡«å¯«å»ºç‰©èˆ‡åœŸåœ°åƒ¹æ ¼</span>
                </button>
                <button class="option-btn" onclick="showResult('mid-no-split')">
                    B. æ²’æœ‰æ‹†ç®— / ä¸æ¸…æ¥š
                </button>
            </div>
        </div>

        <div id="step-mid-input" class="quiz-card hidden">
            <div class="question-title">
                <i class="fas fa-calculator question-icon"></i>
                è«‹è¼¸å…¥ç•¶åˆæ‹†ç®—çš„åƒ¹æ ¼ï¼š
            </div>
            <div class="mb-4">
                <label class="block text-gray-600 mb-2 font-bold">ğŸ  å»ºç‰©åƒ¹æ ¼ (è¬å…ƒ)</label>
                <input type="number" id="building-price" class="nexus-input" placeholder="ä¾‹å¦‚ï¼š500">
            </div>
            <div class="mb-6">
                <label class="block text-gray-600 mb-2 font-bold">ğŸŒ åœŸåœ°åƒ¹æ ¼ (è¬å…ƒ)</label>
                <input type="number" id="land-price" class="nexus-input" placeholder="ä¾‹å¦‚ï¼š1000">
            </div>
            <button class="w-full bg-[#C5A065] text-white font-bold py-3 rounded-xl shadow-lg hover:bg-[#b08d55] transition" onclick="showResult('mid-calc')">
                ç¢ºèªé€å‡º
            </button>
        </div>

        <div id="step-new-2" class="quiz-card hidden">
            <div class="question-title">
                <i class="fas fa-question-circle question-icon"></i>
                å–å¾—åŸå› æ˜¯ä»€éº¼ï¼Ÿ
            </div>
            
            <div class="bg-gray-50 p-4 rounded-xl mb-6 text-sm border border-gray-200">
                <p class="font-bold text-[#0F2E46] mb-2"><i class="fas fa-info-circle"></i> æˆ¿åœ°åˆä¸€ç¨… æŒæœ‰æœŸé–“ç¨…ç‡è¡¨ï¼š</p>
                <ul class="space-y-1 text-gray-600">
                    <li>ğŸ”´ 2å¹´ä»¥ä¸‹ï¼š<span class="font-bold text-red-600">45%</span></li>
                    <li>ğŸŸ  2~5å¹´ï¼š<span class="font-bold text-orange-500">35%</span></li>
                    <li>ğŸŸ¢ 5~10å¹´ï¼š<span class="font-bold text-green-600">20%</span></li>
                    <li>ğŸ”µ 10å¹´ä»¥ä¸Šï¼š<span class="font-bold text-blue-600">15%</span></li>
                </ul>
            </div>

            <div class="options-grid">
                <button class="option-btn" onclick="showResult('new-trade')">
                    A. è²·è³£ã€è´ˆèˆ‡å–å¾—
                    <span class="option-note">å‚™è¨»ï¼šé©ç”¨æˆ¿åœ°åˆä¸€ç¨…</span>
                </button>
                <button class="option-btn" onclick="showResult('new-other')">
                    B. å…¶ä»–ç™»è¨˜åŸå› 
                    <span class="option-note">å‚™è¨»ï¼šä¸ä¸€å®šæœ‰æˆ¿åœ°åˆä¸€ç¨… (éœ€å€‹æ¡ˆèªå®š)</span>
                </button>
            </div>
        </div>

        <div id="result-screen" class="quiz-card hidden result-box">
            <div class="result-icon"><i class="fas fa-clipboard-check"></i></div>
            <h2 class="text-2xl font-bold text-[#0F2E46] mb-4">åˆæ­¥æª¢æ¸¬å®Œæˆï¼</h2>
            
            <div id="result-content" class="result-text">
                </div>
            
            <p class="text-sm text-gray-500 mb-2">ç¨…å‹™è¦åŠƒå·®ä¸€é»å°±å·®å¾ˆå¤šï¼<br>å»ºè­°å°‡æ‚¨çš„æƒ…æ³å‚³é€çµ¦æˆ‘å€‘ï¼Œç”±å°ˆæ¥­ä»£æ›¸ç‚ºæ‚¨ç²¾ç®—ã€‚</p>
        </div>

    </div>

    <div class="text-center text-xs text-gray-400 mt-8">
        Â© 2025 å®åœ‹åœ°æ”¿ | æ˜“ä¸åœ°æ”¿<br>
        å°å—å¸‚åŒ—å€æ–‡è³¢è·¯1080å··11è™Ÿ
    </div>

</div>

<div class="sticky-footer">
    <a href="#" id="line-link" target="_blank" class="sticky-btn">
        <i class="fab fa-line mr-2"></i> å‚³é€çµæœè‡³ LINE è«®è©¢
    </a>
</div>

<script>
    const LINE_ID = "@604gpqef";
    let userSelection = {};

    function goToStep(step) {
        document.querySelectorAll('.quiz-card').forEach(el => el.classList.add('hidden'));
        
        if (step === 'old-system') {
            userSelection.period = "æ°‘åœ‹101å¹´08æœˆä»¥å‰ (èˆŠåˆ¶)";
            document.getElementById('step-old-2').classList.remove('hidden');
        } else if (step === 'middle-system') {
            userSelection.period = "æ°‘åœ‹101/08~104 (èˆŠåˆ¶éæ¸¡æœŸ)";
            document.getElementById('step-mid-2').classList.remove('hidden');
        } else if (step === 'new-system') {
            userSelection.period = "æ°‘åœ‹105å¹´ä»¥å¾Œ (æ–°åˆ¶)";
            document.getElementById('step-new-2').classList.remove('hidden');
        } else if (step === 'mid-input') {
            document.getElementById('step-mid-input').classList.remove('hidden');
        }
    }

    function showResult(type) {
        document.querySelectorAll('.quiz-card').forEach(el => el.classList.add('hidden'));
        document.getElementById('result-screen').classList.remove('hidden');
        
        let resultText = "";
        let details = "";

        if (type === 'old-developer') {
            details = "å‘å»ºè¨­å…¬å¸è³¼è²· (åœ‹ç¨…å±€å¯èƒ½æœ‰æˆäº¤ç´€éŒ„)ã€‚";
            resultText = "ç”±æ–¼å¯èƒ½æœ‰æˆäº¤ç´€éŒ„ï¼Œå»ºè­°æ ¸å¯¦ç”³å ±ã€‚è‹¥ç„¡ç´€éŒ„ï¼Œå¯ä¾ã€Œæˆ¿å±‹è©•å®šç¾å€¼ã€æ¯”ä¾‹è¨ˆç®—æ‰€å¾—ã€‚";
        } else if (type === 'old-individual') {
            details = "å‘ä¸€èˆ¬æ°‘çœ¾è³¼è²·ã€‚";
            resultText = "é€šå¸¸æŸ¥ç„¡åŸå§‹æˆæœ¬ï¼Œæœ‰æ©Ÿæœƒä½¿ç”¨ã€Œæ¨™æº–æ‰£é™¤é¡ã€ç”³å ±ï¼Œç¨…è² å¯èƒ½è¼ƒä½ã€‚";
        } else if (type === 'mid-no-split') {
            details = "ç„¡æ‹†ç®—æˆ¿åœ°åƒ¹æ ¼ã€‚";
            resultText = "å±¬æ–¼èˆŠåˆ¶è²¡ç”¢äº¤æ˜“æ‰€å¾—ç¨…ã€‚éœ€æ–¼ç™»è¨˜æ—¥å¾Œéš”å¹´5æœˆç”³å ±ã€‚å»ºè­°ç”±æˆ‘å€‘å”åŠ©èª¿é–±è³‡æ–™è©•ä¼°ã€‚";
        } else if (type === 'mid-calc') {
            let bPrice = document.getElementById('building-price').value || 0;
            let lPrice = document.getElementById('land-price').value || 0;
            details = `æœ‰æ‹†ç®—åƒ¹æ ¼ï¼šå»ºç‰© ${bPrice}è¬ / åœŸåœ° ${lPrice}è¬ã€‚`;
            resultText = "æ‚¨å·²æä¾›æ‹†ç®—åƒ¹æ ¼ï¼Œé€™å°è¨ˆç®—è²¡ç”¢äº¤æ˜“æ‰€å¾—éå¸¸æœ‰å¹«åŠ©ï¼è«‹å‚³é€æ­¤æ•¸æ“šçµ¦æˆ‘å€‘é€²è¡Œç²¾ç®—ã€‚";
        } else if (type === 'new-trade') {
            details = "è²·è³£/è´ˆèˆ‡å–å¾—ã€‚";
            resultText = "ç¢ºèªé©ç”¨ã€Œæˆ¿åœ°åˆä¸€ç¨…ã€ï¼ç¨…ç‡ä¾æŒæœ‰æœŸé–“ 45%~15% ä¸ç­‰ã€‚å»ºè­°æå‰è¦åŠƒé‡è³¼é€€ç¨…æˆ–è‡ªä½å„ªæƒ ã€‚";
        } else if (type === 'new-other') {
            details = "å…¶ä»–åŸå› å–å¾— (å¦‚ç¹¼æ‰¿ã€åˆ†å‰²)ã€‚";
            resultText = "ç‰¹æ®Šå–å¾—åŸå› ä¸ä¸€å®šé©ç”¨æˆ¿åœ°åˆä¸€ç¨…ï¼Œæˆ–æœ‰ç‰¹æ®Šçš„æˆæœ¬èªå®šæ–¹å¼ã€‚æ­¤æƒ…æ³è¼ƒè¤‡é›œï¼Œå»ºè­°ç›´æ¥è«®è©¢ã€‚";
        }

        // é¡¯ç¤ºçµæœæ–‡å­—
        const finalHtml = `
            <div class="mb-3"><strong class="text-[#0F2E46]">ğŸ•’ å–å¾—æ™‚é–“ï¼š</strong> ${userSelection.period}</div>
            <div class="mb-3"><strong class="text-[#0F2E46]">ğŸ“ è©³ç´°æƒ…æ³ï¼š</strong> ${details}</div>
            <div class="border-t border-dashed border-green-300 my-3"></div>
            <div><strong class="text-[#0F2E46]">ğŸ’¡ å°ˆå®¶å»ºè­°ï¼š</strong><br>${resultText}</div>
        `;
        document.getElementById('result-content').innerHTML = finalHtml;

        // ç”Ÿæˆ LINE é€£çµ
        const msg = `ã€æˆ¿åœ°åˆä¸€ç¨…è‡ªæˆ‘æª¢æ¸¬ã€‘\n\nğŸ•’ å–å¾—æ™‚é–“ï¼š${userSelection.period}\nğŸ“ è©³ç´°æƒ…æ³ï¼š${details}\nğŸ’¡ ç³»çµ±å»ºè­°ï¼š${resultText}\n\næˆ‘æƒ³é ç´„å°ˆæ¥­è«®è©¢è©•ä¼°ï¼`;
        const lineUrl = `https://line.me/R/oaMessage/${LINE_ID}/?text=${encodeURIComponent(msg)}`;
        
        // æ›´æ–°æŒ‰éˆ•é€£çµ
        const btn = document.getElementById('line-link');
        btn.href = lineUrl;
        btn.innerHTML = '<i class="fab fa-line mr-2"></i> å‚³é€çµæœä¸¦é ç´„è«®è©¢';
    }
</script>

</body>
</html>